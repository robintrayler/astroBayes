---
title: "Using astroBayes"
author: "Robin B. Trayler"
output: rmarkdown::html_vignette
bibliography: /Users/robintrayler/Zotero/ref_library.bib
csl: /Users/robintrayler/Zotero/styles/geology.csl
vignette: >
  %\VignetteIndexEntry{using_astroBayes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

# Introduction

This package contains a *very* basic method to integrate radioisotopic geochronology and cyclostratigraphy in a Bayesian framework. These methods are currently under development and is not publication ready.

The basic astroBayes model implements a version of a modeling technique first proposed by @malinverno2010. The authors developed a model of the probability of a temporal frequency $f$ in a red noise background given $d$ is a vector of evenly spaced cyclostratigraphic data, $m$ is a vector of sedimentation rates and segment boundaries, and $f$ is a vector of orbital frequencies to use for "tuning"

$$
P(d|m, f) = K \times \frac{C_{data}(f)}{C_{background}(f)}
$$

Where $C_{data}(f)$ is the periodogram of the data, $C_{background}(f)$ is the red noise background, and K is a normalization constant.

# Setup

The package can be loaded using the `library()` function.

```{r setup}
# devtools::install_github('robintrayer/astroBayes')
library(astroBayes)
```

I've included two testing data sets in this package. the **A** data set is a simple simple and mostly linear, and it lacks sedimentary hiatuses. The **B** data set is more complex and include a single unconformity.

# Data Exploration

```{r}
# load the example data sets --------------------------------------------------
geochron_data    <- read.csv(file = '../data/data_A/radioisotopic_dates.csv')
cyclostrat_data  <- read.csv(file = '../data/data_A/cyclostratigraphic_record.csv')
tuning_frequency <- read.csv(file = '../data/data_A/tuning_frequency.csv')
true_data        <- read.csv(file = '../data/data_A/true_age.csv')
segment_edges    <- read.csv(file = '../data/data_A/segment_edges.csv')
new_positions    <- read.csv(file = '../data/data_A/new_positions.csv')
```

# References

::: {#refs}
:::
